/**
 * 
 */
package bm.notice.controller;

import java.io.File;
import java.io.IOException;
import java.text.SimpleDateFormat;
import java.util.Date;

import javax.servlet.http.HttpServletRequest;

import com.oreilly.servlet.MultipartRequest;
import com.oreilly.servlet.multipart.DefaultFileRenamePolicy;

import bm.member.model.vo.Member;
import bm.notice.model.service.NoticeService;
import bm.notice.model.vo.Notice;
import common.frontcontroller.Controller;
import common.frontcontroller.ModelAndView;
import common.util.FileUtil;
import common.vo.UploadFile;

/**
 * @author user2
 *
 */
public class NoticeController implements Controller {

	NoticeService ns = new NoticeService();

	public ModelAndView noticeUpload(HttpServletRequest request) throws IOException {
		ModelAndView mav = new ModelAndView();
		Member member = (Member) request.getSession().getAttribute("loginInfo");

		String uploadFolder ="resources/upload";
		UploadFile uf = new FileUtil().fileUpload(uploadFolder, request);
		

		if (res >= 1) {
			mav.addObject("alertMsg", "게시물 등록이 성공되었습니다.");
			mav.addObject("url", "/servletBM/index/index.do");
			mav.setView("common/result");
		} else {
			mav.addObject("alertMsg", "게시물 등록이 실패하였습니다.");
			mav.addObject("url", "/servletBM/notice/notice.do");
			mav.setView("common/result");
		}

		return mav;
	}

	public ModelAndView notice(HttpServletRequest request) {
		ModelAndView mav = new ModelAndView();

		mav.setView("board/boardForm");
		return mav;
	}
}
